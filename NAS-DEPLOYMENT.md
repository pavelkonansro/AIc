# üè† –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ AIc –Ω–∞ Synology NAS DS218

–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ AIc –Ω–∞ Synology NAS –¥–ª—è 24/7 —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Synology NAS DS218 —Å DSM 7.0+
- Container Manager (–±—ã–≤—à–∏–π Docker) —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ NAS
- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π IP –∞–¥—Ä–µ—Å –¥–ª—è NAS

## üîß –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ NAS

### 1.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Container Manager
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Package Center** –≤ DSM
2. –ù–∞–π–¥–∏—Ç–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Container Manager**
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### 1.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏
1. **Control Panel** ‚Üí **Network** ‚Üí **Network Interface**
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP –¥–ª—è NAS: `192.168.68.69` (–≤–∞—à —Ç–µ–∫—É—â–∏–π IP)
3. –û–±–Ω–æ–≤–∏—Ç–µ DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

### 1.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π—Ä–≤–æ–ª–∞
1. **Control Panel** ‚Üí **Security** ‚Üí **Firewall**
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø–æ—Ä—Ç–æ–≤:
   - **5432** - PostgreSQL
   - **6379** - Redis  
   - **3000** - API Server
   - **8080** - PgAdmin (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üìÅ –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ NAS

### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –í File Station —Å–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É:
/docker/aic-app/
```

### 2.2 –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–∏ —Ñ–∞–π–ª—ã –≤ `/docker/aic-app/`:

```
/docker/aic-app/
‚îú‚îÄ‚îÄ docker-compose.nas.yml          # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ simple-test-server-nas.js       # API —Å–µ—Ä–≤–µ—Ä –¥–ª—è NAS
‚îú‚îÄ‚îÄ package-nas.json                # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Node.js
‚îî‚îÄ‚îÄ apps/
    ‚îî‚îÄ‚îÄ api/
        ‚îî‚îÄ‚îÄ create-pii-fixed-schema.sql  # SQL —Å—Ö–µ–º–∞ –ë–î
```

## üê≥ –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Container Manager

### 3.1 –ò–º–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Container Manager**
2. **Project** ‚Üí **Create**
3. **Project Name**: `aic-app`
4. **Path**: `/docker/aic-app`
5. **Source**: `Create docker-compose.yml`

### 3.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ docker-compose.yml
–í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `docker-compose.nas.yml` –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª.

### 3.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã
–í Container Manager –º–æ–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```env
DATABASE_URL=postgresql://postgres:postgres123@postgres-nas:5432/aic
REDIS_URL=redis://redis-nas:6379
NODE_ENV=development
PORT=3000
```

### 3.4 –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
1. –ù–∞–∂–º–∏—Ç–µ **Build** –¥–ª—è —Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
2. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ –Ω–∞–∂–º–∏—Ç–µ **Run** 
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## üîç –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 4.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
–í Container Manager –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:
- ‚úÖ `aic-postgres-nas` - Running
- ‚úÖ `aic-redis-nas` - Running  
- ‚úÖ `aic-api-nas` - Running

### 4.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
```bash
# Health check
curl http://192.168.68.69:3000/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
{
  "status": "OK",
  "message": "AIc NAS Test Server is running!",
  "environment": "nas-development",
  "services": {
    "database": "connected",
    "redis": "connected", 
    "api": "running"
  }
}
```

### 4.3 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ guest –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -X POST http://192.168.68.69:3000/auth/guest \
  -H "Content-Type: application/json"

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è  
curl -X POST http://192.168.68.69:3000/auth/signup \
  -H "Content-Type: application/json" \
  -d '{"birthYear": 2010, "ageGroup": "teen", "locale": "cs-CZ"}'
```

## üì± –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 5.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞
–í —Ñ–∞–π–ª–µ `apps/mobile/lib/config/api_config.dart`:

```dart
// –ò–∑–º–µ–Ω–∏—Ç–µ IP –∞–¥—Ä–µ—Å –Ω–∞ IP –≤–∞—à–µ–≥–æ NAS
static const String _nasIp = '192.168.68.69';  // ‚Üê IP –≤–∞—à–µ–≥–æ NAS

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ NAS —Å–µ—Ä–≤–µ—Ä
static const ServerEnvironment _currentEnv = ServerEnvironment.nas;
```

### 5.2 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ NAS —Å–µ—Ä–≤–µ—Ä—É
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è PostgreSQL:

```bash
# –ó–∞–ø—É—Å–∫ —Å PgAdmin
docker-compose -f docker-compose.nas.yml --profile admin up -d

# –î–æ—Å—Ç—É–ø: http://192.168.68.69:8080
# Email: admin@aic-app.com  
# –ü–∞—Ä–æ–ª—å: admin123
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
1. Container Manager ‚Üí **Container** 
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí **Details** ‚Üí **Log**

### –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
Container Manager –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø—Ä–∏:
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ NAS
- –ü–∞–¥–µ–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ (restart: unless-stopped)

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —É –≤–∞—Å –±—É–¥–µ—Ç:

‚úÖ **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–π API —Å–µ—Ä–≤–µ—Ä** –Ω–∞ http://192.168.68.69:3000
‚úÖ **PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** —Å GDPR-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π —Å—Ö–µ–º–æ–π  
‚úÖ **Redis –∫—ç—à** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã
‚úÖ **Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ NAS —Å–µ—Ä–≤–µ—Ä
‚úÖ **24/7 –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ª—é–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Container Manager
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã –Ω–µ –∑–∞–Ω—è—Ç—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–∞–º

### API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª NAS
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å PostgreSQL

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è  
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SQL —Ñ–∞–π–ª —Å—Ö–µ–º—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã
- –£–¥–∞–ª–∏—Ç–µ —Ç–æ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –Ω–∞–¥–µ–∂–Ω–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞ –Ω–∞ Synology NAS! üöÄ