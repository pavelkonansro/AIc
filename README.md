# AIc - AI Companion for Teens üê∂

AIc ‚Äî —ç—Ç–æ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π AI-–∫–æ–º–ø–∞–Ω—å–æ–Ω –≤ –≤–∏–¥–µ —Å–µ–Ω–±–µ—Ä–Ω–∞—Ä–∞, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤ 9-18 –ª–µ—Ç. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É, –ø–æ–º–æ—â—å –≤ —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –∏ –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –ø–æ–º–æ—â–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ monorepo –∏ –≤–∫–ª—é—á–∞–µ—Ç:

- **`apps/mobile/`** - Flutter –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è iOS –∏ Android
- **`apps/api/`** - NestJS backend —Å WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- **`packages/common/`** - –û–±—â–∏–µ —Ç–∏–ø—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
- **`packages/safety/`** - –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ SOS —à–∞–±–ª–æ–Ω—ã
- **`infra/`** - Docker Compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **`tests/`** - E2E —Ç–µ—Å—Ç—ã –∏ —Ç–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- Flutter 3.22+
- Docker –∏ Docker Compose
- PostgreSQL 15+ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker)

### 1. –õ–æ–∫–∞–ª—å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```bash
# –ó–∞–ø—É—Å–∫ PostgreSQL –∏ Redis
npm run infra:up

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
npm run infra:down
```

–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
- PostgreSQL: `localhost:5432`
- Redis: `localhost:6379`
- Adminer (–ë–î –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å): `http://localhost:8080`
- Redis Commander: `http://localhost:8081`

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API

```bash
cd apps/api

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp env.example .env

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma –∫–ª–∏–µ–Ω—Ç–∞
npm run prisma:gen

# –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π
npm run prisma:migrate

# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run seed

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3000`  
Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `http://localhost:3000/api`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd apps/mobile

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
flutter pub get

# –ó–∞–ø—É—Å–∫ –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
flutter run

# –ò–ª–∏ –¥–ª—è –≤–µ–±-–≤–µ—Ä—Å–∏–∏
flutter run -d chrome
```

### 4. –°–±–æ—Ä–∫–∞ packages

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤
npm run build:packages
```

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (API + Mobile –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
npm run dev

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
npm test

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint

# –°–±–æ—Ä–∫–∞
npm run build

# –û—á–∏—Å—Ç–∫–∞
npm run clean

# –†–∞–±–æ—Ç–∞ —Å –ë–î
npm run db:migrate    # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npm run db:seed       # –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```

## üåê API Endpoints (MVP)

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /auth/signup` ‚Äî –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /auth/guest` ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –≥–æ—Å—Ç–µ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

### –ß–∞—Ç
- `POST /chat/session` ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ —á–∞—Ç–∞
- `GET /chat/session/:id` ‚Äî –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Å—Å–∏–∏
- `WS /chat` ‚Äî WebSocket –¥–ª—è real-time —Å–æ–æ–±—â–µ–Ω–∏–π

### SOS –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- `GET /sos/resources?country=CZ&locale=cs-CZ` ‚Äî –ö–æ–Ω—Ç–∞–∫—Ç—ã —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –ø–æ–º–æ—â–∏
- `GET /sos/crisis-check?text=...` ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫—Ä–∏–∑–∏—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

### –ö–æ–Ω—Ç–µ–Ω—Ç
- `GET /content/articles?topic=emotions&locale=cs-CZ` ‚Äî –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—å–∏

### –ü–æ–¥–ø–∏—Å–∫–∏
- `POST /subscriptions/revenuecat/webhook` ‚Äî RevenueCat webhook

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

Ike –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

1. **–î–µ—Ç–µ–∫—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫—Ä–∏–∑–∏—Å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
2. **–í–æ–∑—Ä–∞—Å—Ç–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ö–æ–Ω—Ç–µ–Ω—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –≥—Ä—É–ø–ø—ã
3. **SOS —Å–∏—Å—Ç–µ–º–∞**: –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –ø–æ–º–æ—â–∏
4. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
cd tests/safety
npm test

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏–∑–∏—Å–Ω—ã—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
npm run test:crisis-triggers
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ike-app/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ mobile/          # Flutter –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ features/    # UI —ç–∫—Ä–∞–Ω—ã –ø–æ —Ñ–∏—á–∞–º
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/    # API –∫–ª–∏–µ–Ω—Ç, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ state/       # –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Riverpod)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ l10n/        # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pubspec.yaml
‚îÇ   ‚îî‚îÄ‚îÄ api/             # NestJS backend
‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ auth/        # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ chat/        # –ß–∞—Ç –∏ WebSocket
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ sos/         # –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ prisma/      # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ       ‚îî‚îÄ‚îÄ prisma/schema.prisma
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ common/          # –û–±—â–∏–µ —Ç–∏–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ safety/          # –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ infra/               # Docker Compose
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

1. **–ù–æ–≤—ã–π API endpoint**:
   ```bash
   cd apps/api/src
   nest generate module feature-name
   nest generate controller feature-name
   nest generate service feature-name
   ```

2. **–ù–æ–≤—ã–π —ç–∫—Ä–∞–Ω –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**:
   ```bash
   cd apps/mobile/lib/features
   mkdir new-feature
   # –°–æ–∑–¥–∞—Ç—å page.dart, state.dart –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã
   ```

3. **–ù–æ–≤—ã–µ —Ç–∏–ø—ã**:
   - –î–æ–±–∞–≤–∏—Ç—å –≤ `packages/common/src/index.ts`
   - –û–±–Ω–æ–≤–∏—Ç—å –≤ –æ–±–æ–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
cd apps/api

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate dev --name migration-name

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
npx prisma migrate deploy

# –°–±—Ä–æ—Å –ë–î (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!)
npx prisma migrate reset
```

## üì± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### RevenueCat (–ø–æ–¥–ø–∏—Å–∫–∏)
```typescript
// Flutter
import 'package:purchases_flutter/purchases_flutter.dart';

await Purchases.setup('your_api_key');
```

### Firebase (push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
```typescript
// Flutter  
import 'package:firebase_messaging/firebase_messaging.dart';

FirebaseMessaging messaging = FirebaseMessaging.instance;
```

### Amplitude (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞)
```typescript
// Flutter
import 'package:amplitude_flutter/amplitude.dart';

Amplitude.getInstance().logEvent('event_name');
```

## üåç –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏:
- üá∫üá∏ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π (en-US)
- üá®üáø –ß–µ—à—Å–∫–∏–π (cs-CZ)  
- üá©üá™ –ù–µ–º–µ—Ü–∫–∏–π (de-DE)

–§–∞–π–ª—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏: `apps/mobile/lib/l10n/`

## üöÄ –î–µ–ø–ª–æ–π

### Staging
```bash
# API
docker build -t ike-api:staging apps/api
docker run -d -p 3000:3000 ike-api:staging

# Mobile - —Å–º. GitHub Actions
```

### Production
- API: Docker + Kubernetes
- Mobile: App Store + Google Play
- –ë–î: Managed PostgreSQL (AWS RDS/Google Cloud SQL)

## ü§ù –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π feature branch: `git checkout -b feature/amazing-feature`
3. –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π: `git commit -m 'Add amazing feature'`
4. Push –≤ branch: `git push origin feature/amazing-feature`
5. –û—Ç–∫—Ä–æ–π Pull Request

### –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–¥–∞

- **API**: ESLint + Prettier
- **Mobile**: Flutter/Dart conventions
- **Commit messages**: Conventional Commits
- **Tests**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- üìß Email: dev@ike-app.com
- üêõ Issues: GitHub Issues
- üìñ Wiki: GitHub Wiki

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE)

---

**‚ö†Ô∏è –í–∞–∂–Ω–æ**: –≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –Ω–æ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –ø–æ–º–æ—â—å. –í —Å–ª—É—á–∞–µ –∫—Ä–∏–∑–∏—Å–∞ –≤—Å–µ–≥–¥–∞ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º.
